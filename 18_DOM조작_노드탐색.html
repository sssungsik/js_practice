<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" href="data:," />
    <title>DOM 노드 탐색</title>
  </head>
  <body>
    <h1>DOM 노드탐색</h1>
    - 요소노드를 취득한 다음, 취득한 요소노드를 기점으로 부모, 형제, 자식 노드
    탐색
    <script>
      const $body = document.querySelector("body");
      console.log($body);
      console.log($body.parentNode);
    </script>
    <h2>자식노드 탐색</h2>
    - 자식노드를 탐색하기위해서 탐색 프로퍼티 사용<br />
    - childNodes: 자식노드를 모두 탐색 후 NodeList에 담아 반환(요소노드뿐만
    아니라 텍스트노드포함) <br />
    - children: 자식중 요소노드만 탐색 후 HTMLCollection에 담아 반환<br />
    - firstChild: 첫번째 자식 노드 반환(요소노드, 텍스트노드)<br />
    - lastChild: 마지막 자식 노드 반환(요소노드, 텍스트노드)<br />
    - firstElementChild: 첫번째 자식 요소 노드 반환<br />
    - lastElementChild: 마지막 자식 요소 노드 반환<br />
    - querySelector('css선택자') : 탐색한 노드를 기준으로 css선택자와 일치하는
    자식노드 반환 선택자가 곁칠 경우 가장 첫번째 노드 반환<br />
    - querySelectorAll('css선택자') : 탐색한 노드를 기준으로 css선택자와
    일치하는 자식노드들 반환<br />

    <ul id="ksmart">
      <li class="ksmart301">강의실 301호</li>
      <li class="ksmart302">강의실 302호</li>
    </ul>
    <div id="ksmartDiv"></div>

    <script>
      const $ksmart = document.getElementById("ksmart");

      // childNodes = 모든 노드를 NodeList 에 담아 반환
      const $ksNodes = $ksmart.childNodes;
      console.log($ksNodes);

      // firstChild = 모든 자식노드 중 첫번째 자식노드 반환
      console.log($ksmart.firstChild);

      // lastChild = 모든 자식노드 중 마지막 자식노드 반환
      console.log($ksmart.lastChild);

      // chilren = 요소노드만 HTMLCollection 담아 반환
      console.log($ksmart.children);

      // first/lastElementChild = 자식노드의 요소노드 중 첫번째/마지막 요소 반환
      console.log($ksmart.firstElementChild);
      console.log($ksmart.lastElementChild);

      // 자식노드를 css선택자로 취득 가능
      const $li = $ksmart.querySelector("li");
      const $liEles = $ksmart.querySelectorAll("li");

      console.log($li);
      console.log($liEles);

      const $ksmartDiv = document.querySelector("#ksmartDiv");

      console.log($ksmartDiv.childNodes);
      console.log($ksmartDiv.children);
      console.log($ksmartDiv.firstChild);
      console.log($ksmartDiv.firstElementChild);
    </script>

    <h2>자식 노드 존재 여부 확인</h2>
    - hasChildNodes(): true(존재), false(존재하지않음) 반환 <br />
    - 특정자식 노드 탐색<br />
    - 부모노드 접근 후 자식노드 탐색 <br />

    <ul id="ks">
      <li class="ks50">한국스마트정보교육원50기</li>
      <li class="ks51">한국스마트정보교육원51기</li>
    </ul>

    <div id="ksDiv"></div>

    <script>
      const $ks = document.getElementById("ks");
      const $ksDiv = document.querySelector("#ksDiv");
      console.log($ks.hasChildNodes());
      console.log($ksDiv.hasChildNodes());
    </script>

    <h2>부모노드 탐색</h2>
    - parentNode : 탐색한 노드를 기준으로 부모노드 탐색<br />
    - 최종단의 노드는 텍스트 노드 이므로 부모가 텍스트 노드인 경우는 없다.<br />
    - closest('css선택자') : 탐색한 노드를 기준으로 css선택자와 일치하는 가장
    가까운 조상을 탐색, 노드가 없을 경우 null 반환<br />
    <div>
      <p id="pText">한국스마트정보교육원</p>
    </div>
    <div id="div1">
      <div id="div2">
        <label id="label1">한국스마트정보교육원50기</label>
      </div>
    </div>
    <script>
      const $pTagParent = document.getElementById("pText").parentNode;
      console.log($pTagParent);
      const $lavel1 = document.querySelector("#label1");
      const $div2 = $lavel1.parentNode;
      const $div1 = $lavel1.parentNode.parentNode;

      console.log($div2);
      console.log($div1);

      // 조상을 탐색하는 방법
      // closet(css선택자) : css선택자에 일치하는 가장 인정합 조상노드 반환
      const $cDiv2 = $lavel1.closest("div");
      const $cDiv1 = $lavel1.closest("div#div1");
      console.log($cDiv2);
      console.log($cDiv1);
    </script>

    <h2>형제 노드 탐색</h2>
    - previousSibling: 이전 형제노드 반환(요소노드뿐만 아니라 텍스트노드포함)
    <br />
    - nextSibling: 다음 형제노드 반환 반환(요소노드뿐만 아니라
    텍스트노드포함)<br />
    - previousElementSibling: 이전 형제 요소 노드 반환<br />
    - nextElementSibling: 다음 형제 요소 노드 반환<br />
    - 노드 탐색 후 없을 시 null 반환<br />

    <ul id="ksmartRoom">
      <li class="room302" id="ks51Li">강의실 302호</li>
      <li class="room302" name="ks51Li">강의실 302호</li>
      <li class="teacher-room">교직원실</li>
      <li class="counseling-room">상담실</li>
    </ul>

    <script>
      const $room302 = document.getElementsByClassName("room302");
      console.log($room302.item(1));
      console.log($room302.length);

      // namedItem : id, name (1개만, id가 우선순위)
      console.log($room302.namedItem('ks51Li'));

      const $teacherRoom = document.querySelector('.teacher-room');
      console.log($teacherRoom);
      // 이전형제노드
      console.log($teacherRoom.previousSibling);
      // 이전형제노드요소
      console.log($teacherRoom.previousElementSibling);
      // 이후형제노드
      console.log($teacherRoom.nextSibling);
      // 이후형제노드요소
      console.log($teacherRoom.nextElementSibling);
    </script>
  </body>
</html>
